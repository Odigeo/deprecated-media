<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class Object - Ocean</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  

  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/generators/ocean_setup/templates/ocean_constants.rb
    <li>lib/generators/ocean_setup/templates/spec_helper.rb
    <li>lib/ocean.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">BasicObject
  
</nav>

    <!-- Included Modules -->
<nav id="includes-section" class="section">
  <h3 class="section-header">Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">FactoryGirl::Syntax::Methods</span>
  
  
  </ul>
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li ><a href="#method-i-permit_with">#permit_with</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./README_rdoc.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./ActionController.html">ActionController</a>
  
    <li><a href="./ActiveRecord.html">ActiveRecord</a>
  
    <li><a href="./ActiveSupport.html">ActiveSupport</a>
  
    <li><a href="./AliveController.html">AliveController</a>
  
    <li><a href="./Api.html">Api</a>
  
    <li><a href="./ApiResource.html">ApiResource</a>
  
    <li><a href="./ApiResource/ClassMethods.html">ApiResource::ClassMethods</a>
  
    <li><a href="./ApplicationController.html">ApplicationController</a>
  
    <li><a href="./ApplicationHelper.html">ApplicationHelper</a>
  
    <li><a href="./ErrorsController.html">ErrorsController</a>
  
    <li><a href="./Faraday.html">Faraday</a>
  
    <li><a href="./Logger.html">Logger</a>
  
    <li><a href="./Object.html">Object</a>
  
    <li><a href="./Ocean.html">Ocean</a>
  
    <li><a href="./Ocean/OceanResourceController.html">Ocean::OceanResourceController</a>
  
    <li><a href="./Ocean/OceanResourceController/ClassMethods.html">Ocean::OceanResourceController::ClassMethods</a>
  
    <li><a href="./Ocean/OceanResourceModel.html">Ocean::OceanResourceModel</a>
  
    <li><a href="./Ocean/OceanResourceModel/ClassMethods.html">Ocean::OceanResourceModel::ClassMethods</a>
  
    <li><a href="./Ocean/Railtie.html">Ocean::Railtie</a>
  
    <li><a href="./Ocean/Railtie/File.html">Ocean::Railtie::File</a>
  
    <li><a href="./Ocean/Railtie/Rails.html">Ocean::Railtie::Rails</a>
  
    <li><a href="./Ocean/Railtie/Rails/Rack.html">Ocean::Railtie::Rails::Rack</a>
  
    <li><a href="./OceanApplicationController.html">OceanApplicationController</a>
  
    <li><a href="./OceanScaffoldGenerator.html">OceanScaffoldGenerator</a>
  
    <li><a href="./OceanSetupGenerator.html">OceanSetupGenerator</a>
  
    <li><a href="./RSpec.html">RSpec</a>
  
    <li><a href="./SelectiveRackLogger.html">SelectiveRackLogger</a>
  
    <li><a href="./ZeroLog.html">ZeroLog</a>
  
    <li><a href="./ZeromqLogger.html">ZeromqLogger</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Object</h1>

  <div id="description" class="description">
    
  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <!-- Constants -->
    <section id="constants-list" class="section">
      <h3 class="section-header">Constants</h3>
      <dl>
      
        <dt id="INTERNAL_OCEAN_API_URL">INTERNAL_OCEAN_API_URL
        
        <dd class="description">
        
      
        <dt id="INVALIDATE_COLLECTION_DEFAULT">INVALIDATE_COLLECTION_DEFAULT
        
        <dd class="description">
        
      
        <dt id="INVALIDATE_MEMBER_DEFAULT">INVALIDATE_MEMBER_DEFAULT
        
        <dd class="description">
        
      
        <dt id="OCEAN_API_HOST">OCEAN_API_HOST
        
        <dd class="description"><p>This file will be replaced by an auto-generated one in deployment. YOU
SHOULD NEVER CHANGE THE CONTENTS OF THIS FILE.</p>

<p>Backend developers should never need to override the value here. The reason
for this is that when  developing services locally,  their tests run in
isolation with all external calls mocked away,  and thus it doesn&#39;t
matter what URLs a service generates when  running tests locally on a
developer&#39;s machine.</p>

<p>If you&#39;re a frontend developer, however, the point of your testing is
to exercise the entire SOA and thus you need access to a complete and fully
functional system (which might or might not make calls to partners&#39;
systems, such as for hotel bookings).</p>

<p>Thus, if you are a frontend developer, you override the string constant
here to reflect the Chef environment (master, staging) you wish to run your
local tests against by defining the environment variable
OVERRIDE_OCEAN_API_HOST.</p>

<p>When TeamCity runs its tests, it will set these constants to values
appropriate for the Chef environment for which the tests are run. Thus,
TeamCity will always run master branch frontend tests against the master
Chef environment. However, you can run a personal build and specify the <a
href="Object.html#OCEAN_API_HOST">OCEAN_API_HOST</a> value as an
environment param in the build dialog.</p>
        
      
        <dt id="OCEAN_API_URL">OCEAN_API_URL
        
        <dd class="description">
        
      
      </dl>
    </section>
    

    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-permit_with" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">permit_with</span><span
            class="method-args">(status, user_id: 123, creator_uri: "https://api.example.com/v1/api_users/</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>For stubbing authorisation calls in <a href="RSpec.html">RSpec</a></p>
          
          

          
          <div class="method-source-code" id="permit_with-source">
            <pre><span class="ruby-comment"># File lib/ocean.rb, line 31</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">permit_with</span>(<span class="ruby-identifier">status</span>, <span class="ruby-identifier">user_id</span><span class="ruby-operator">:</span> <span class="ruby-value">123</span>, <span class="ruby-identifier">creator_uri</span><span class="ruby-operator">:</span> <span class="ruby-node">&quot;https://api.example.com/v1/api_users/#{user_id}&quot;</span>)
  <span class="ruby-constant">Api</span>.<span class="ruby-identifier">stub</span>(<span class="ruby-value">:permitted?</span>).
    <span class="ruby-identifier">and_return</span>(<span class="ruby-identifier">double</span>(<span class="ruby-value">:status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">status</span>, 
                      <span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-string">&#39;authentication&#39;</span> =<span class="ruby-operator">&gt;</span> 
                                 {<span class="ruby-string">&#39;user_id&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">user_id</span>,
                                  <span class="ruby-string">&#39;_links&#39;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&#39;creator&#39;</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-string">&#39;href&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">creator_uri</span>,
                                                              <span class="ruby-string">&#39;type&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;application/json&#39;</span>}}}}))
<span class="ruby-keyword">end</span></pre>
          </div><!-- permit_with-source -->
          
        </div>

        

        
      </div><!-- permit_with-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.0.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

